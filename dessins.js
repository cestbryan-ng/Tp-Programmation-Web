// Déclaration d'un tableau constant (const) nommé 'accessoiresDessins'
const accessoiresDessins = [
    {
        id: 101,
        nom: "Aquarelle Matinale",
        description: "Une scène douce inspirée des paysages urbains au lever du soleil.",
        prix: 10000,
        image: "assets/images/the-new-york-public-library-aN2vUZXy1WY-unsplash.jpg"
    },
    {
        id: 102,
        nom: "Rivière Enchantée",
        description: "Un cours d’eau calme avec des reflets de lumière délicats.",
        prix: 12000,
        image: "assets/images/the-new-york-public-library-B6utjpRWmlw-unsplash.jpg"
    },
    {
        id: 103,
        nom: "Forêt Brumeuse",
        description: "Atmosphère mystérieuse capturée avec des nuances subtiles de bleu et vert.",
        prix: 11500,
        image: "assets/images/the-new-york-public-library-_BFkoqX5vN4-unsplash.jpg"
    },
    {
        id: 104,
        nom: "Ciel Crépusculaire",
        description: "Nuances chaudes et froides mêlées pour un coucher de soleil apaisant.",
        prix: 9800,
        image: "assets/images/the-new-york-public-library-Iu7GUGhV7qA-unsplash.jpg"
    },
    {
        id: 105,
        nom: "Paysage Marin",
        description: "Vagues et lumière douce pour capturer la tranquillité de la mer.",
        prix: 13000,
        image: "assets/images/the-new-york-public-library-NEBCw50RarM-unsplash.jpg"
    },
    {
        id: 106,
        nom: "Jardin Printanier",
        description: "Fleurs éclatantes et feuillages frais dans une harmonie colorée.",
        prix: 10500,
        image: "assets/images/the-new-york-public-library-Oy46b6eOfys-unsplash.jpg"
    },
    {
        id: 107,
        nom: "Pont Ancien",
        description: "Un pont historique rendu avec des couleurs légères et transparentes.",
        prix: 11200,
        image: "assets/images/the-new-york-public-library-p4faImzsN2Y-unsplash.jpg"
    },
    {
        id: 108,
        nom: "Montagne Lointaine",
        description: "Perspective profonde et touches de bleu pour l’atmosphère de l’altitude.",
        prix: 12500,
        image: "assets/images/the-new-york-public-library-PPLRYRZ8iJM-unsplash.jpg"
    },
    {
        id: 109,
        nom: "Village Paisible",
        description: "Maisons et ruelles capturées avec des couleurs douces et harmonieuses.",
        prix: 9900,
        image: "assets/images/the-new-york-public-library-Qt3Pf1fNaqs-unsplash.jpg"
    },
    {
        id: 110,
        nom: "Cascades Calmes",
        description: "Chute d’eau paisible avec effets aquarelle et transparence.",
        prix: 13500,
        image: "assets/images/the-new-york-public-library-Sai6QVPi8Aw-unsplash.jpg"
    },
    {
        id: 111,
        nom: "Ruelle Ancienne",
        description: "Ambiance vintage et jeux de lumière capturés à l’aquarelle.",
        prix: 10800,
        image: "assets/images/the-new-york-public-library-wtx3HO4amVU-unsplash.jpg"
    },
    // Plage au Crépuscule n'a pas de fichier correspondant dans la liste 'ls' fournie
    // J'ai ignoré cet élément (the-new-york-public-library-zPxCdKcj-PQ-unsplash.jpg) car il manque.

    {
        id: 113,
        nom: "Motif Abstrait",
        description: "Une œuvre dynamique de couleurs et de formes inattendues.",
        prix: 9500,
        image: "assets/images/20fc23fb6127861eb8149c77ec42ac40.jpg"
    },
    {
        id: 114,
        nom: "Composition Minimaliste",
        description: "Dessin épuré basé sur la simplicité et l'espace.",
        prix: 8900,
        image: "assets/images/alex-dukhanov-ZxZQk7777R4-unsplash.jpg"
    },
    {
        id: 115,
        nom: "Lumière Diffuse",
        description: "Capture d'une atmosphère douce et enveloppante.",
        prix: 10100,
        image: "assets/images/chaozzy-lin-Y1ge0B9_oGE-unsplash.jpg"
    },
    {
        id: 116,
        nom: "Architecture d'Eau",
        description: "Reflets et structures urbaines dans l'eau.",
        prix: 11800,
        image: "assets/images/chenghe-huang-pGoYnmFuo-o-unsplash.jpg"
    },
    {
        id: 117,
        nom: "Feuille de Vigne",
        description: "Détail de la nature avec un rendu précis et délicat.",
        prix: 7500,
        image: "assets/images/clarisse-croset-zKRtZ1o5nvk-unsplash.jpg"
    },
    {
        id: 118,
        nom: "Cercles d'Énergie",
        description: "Motif hypnotique et répétitif de cercles concentriques.",
        prix: 10300,
        image: "assets/images/d-koi-Vvp3RZZYS-Q-unsplash.jpg"
    },
    {
        id: 119,
        nom: "Nature Morte Fruits",
        description: "Une composition classique de fruits de saison.",
        prix: 9000,
        image: "assets/images/europeana-RI3ecKsrSn4-unsplash.jpg"
    },
    {
        id: 120,
        nom: "Oiseau en Vol",
        description: "Dessin capturant la légèreté du mouvement aérien.",
        prix: 12200,
        image: "assets/images/flyd--d1T-Gpgwtc-unsplash.jpg"
    },
    {
        id: 121,
        nom: "Visage Coloré",
        description: "Portrait moderne aux couleurs éclatantes.",
        prix: 13900,
        image: "assets/images/gor-davtyan-dNgIbpz90Tg-unsplash.jpg"
    },
    {
        id: 122,
        nom: "Végétation Profonde",
        description: "Exploration des formes et ombres de la jungle.",
        prix: 11400,
        image: "assets/images/leandro-souza-gyBnDczshzk-unsplash.jpg"
    },
    {
        id: 123,
        nom: "Fleurs Stylisées",
        description: "Motifs floraux avec une touche de fantaisie.",
        prix: 8800,
        image: "assets/images/lindy-baker-pgBLZjJmPW4-unsplash.jpg"
    },
    {
        id: 124,
        nom: "Composition Linéaire",
        description: "Jeu de lignes fines et d'aplats de couleurs.",
        prix: 9700,
        // CORRECTION DU NOM DE FICHIER : suppression des guillemets
        image: "assets/images/linus-belanger-nCLs6KzOFAo-unsplash(1).jpg"
    },
    {
        id: 125,
        nom: "Nuances de Gris",
        description: "Étude de l'ombre et de la lumière en monochrome.",
        prix: 8500,
        image: "assets/images/linus-belanger-nCLs6KzOFAo-unsplash.jpg"
    },
    {
        id: 126,
        nom: "Explosion Pastel",
        description: "Éclatement de couleurs douces et vibrantes.",
        prix: 11900,
        image: "assets/images/logan-voss-S7TMlozGJSY-unsplash.jpg"
    },
    {
        id: 127,
        nom: "Mouvements Verticaux",
        description: "Lignes dynamiques créant une impression de hauteur.",
        prix: 10900,
        image: "assets/images/logan-voss-w7US2bu0QFc-unsplash.jpg"
    },
    {
        id: 128,
        nom: "Motif Organique",
        description: "Formes inspirées du vivant et de la nature.",
        prix: 9200,
        image: "assets/images/luca-fontanive-dkNuU4KRG08-unsplash.jpg"
    },
    {
        id: 129,
        nom: "Silhouettes Douces",
        description: "Rendu flou et poétique de formes humaines.",
        prix: 12400,
        image: "assets/images/mariola-grobelska-H126BdTn14Y-unsplash.jpg"
    },
    {
        id: 130,
        nom: "Gouttes de Pluie",
        description: "Effet mouillé et texture unique capturant l'eau.",
        prix: 13200,
        image: "assets/images/matheus-viana-p5YTll-28k0-unsplash.jpg"
    },
    {
        id: 131,
        nom: "Exploration Spatiale",
        description: "Représentation abstraite d'un paysage céleste.",
        prix: 14000,
        image: "assets/images/maxwell-ingham-OPTFUK_OBrE-unsplash.jpg"
    },
    {
        id: 132,
        nom: "Motif Géométrique Bleu",
        description: "Design structuré avec des tons de bleu profond.",
        prix: 10700,
        image: "assets/images/pawel-czerwinski-5EUWCwDW2aI-unsplash.jpg"
    },
    {
        id: 133,
        nom: "Éclaboussures Noires",
        description: "Contraste fort et dynamique, style action painting.",
        prix: 9400,
        image: "assets/images/pawel-czerwinski-j5I0p3R_P_c-unsplash.jpg"
    },
    {
        id: 134,
        nom: "Texture Rouille",
        description: "Rendu détaillé d'une surface altérée par le temps.",
        prix: 8700,
        image: "assets/images/pawel-czerwinski-mTgO05cbQ8Y-unsplash.jpg"
    },
    {
        id: 135,
        nom: "Océan Abstrait I",
        description: "Vagues et mouvement de l'eau, effet apaisant.",
        prix: 11300,
        image: "assets/images/pure-julia-A_Ksufxi1D4-unsplash.jpg"
    },
    {
        id: 136,
        nom: "Océan Abstrait II",
        description: "Variations de bleu et de turquoise.",
        prix: 11600,
        image: "assets/images/pure-julia-fN9df_b-mGk-unsplash.jpg"
    },
    {
        id: 137,
        nom: "Océan Abstrait III",
        description: "Profondeur et mystère des fonds marins.",
        prix: 12100,
        image: "assets/images/pure-julia-Go1WX2eyA-s-unsplash.jpg"
    },
    {
        id: 138,
        nom: "Motif Floral Délicat",
        description: "Fleurs fines aux contours légèrement estompés.",
        prix: 9100,
        image: "assets/images/pure-julia-_qQngPxOySU-unsplash.jpg"
    },
    {
        id: 139,
        nom: "Éclatement de Lumière",
        description: "Composition abstraite autour de la source lumineuse.",
        prix: 10600,
        image: "assets/images/pure-julia-SBSKTha6ltI-unsplash.jpg"
    },
    {
        id: 140,
        nom: "Nuages et Météo",
        description: "Peinture atmosphérique capturant les cieux orageux.",
        prix: 12700,
        image: "assets/images/pure-julia-VwAvq_KDOp4-unsplash.jpg"
    },
    {
        id: 141,
        nom: "Calligraphie Liquide",
        description: "Mouvements fluides comme de l'encre sur papier mouillé.",
        prix: 13100,
        image: "assets/images/qiuhao-wu-ac9r7TBNm3w-unsplash.jpg"
    },
    {
        id: 142,
        nom: "Terre Brûlée",
        description: "Tons chauds et texture rappelant un paysage aride.",
        prix: 9300,
        image: "assets/images/solen-feyissa-bg6keHKDf4A-unsplash.jpg"
    },
    {
        id: 143,
        nom: "Horizon Lointain",
        description: "Perspective ouverte et couleurs d'un ciel dégagé.",
        prix: 11100,
        image: "assets/images/solen-feyissa-vmIyW9jdD7E-unsplash.jpg"
    },
    {
        id: 144,
        nom: "Mur de Briques",
        description: "Rendu réaliste d'une texture architecturale.",
        prix: 8200,
        image: "assets/images/stanley-kustamin-OKR8bAiU_sY-unsplash.jpg"
    },
    {
        id: 145,
        nom: "Motif Aérodynamique",
        description: "Formes en mouvement et lignes de vitesse.",
        prix: 12600,
        image: "assets/images/susan-wilkinson-HwRiIX60p9M-unsplash.jpg"
    },
    {
        id: 146,
        nom: "Jeu de Miroirs",
        description: "Effets de reflet et de symétrie abstraite.",
        prix: 13300,
        image: "assets/images/susan-wilkinson-OeVC4pYLWH4-unsplash.jpg"
    },
    {
        id: 147,
        nom: "Spirale Hypnotique",
        description: "Mouvement en boucle et dégradé de couleurs.",
        prix: 10400,
        image: "assets/images/susan-wilkinson-pYquLiPamPc-unsplash.jpg"
    },
    {
        id: 148,
        nom: "Couches Abstraites",
        description: "Superposition de formes et de transparence.",
        prix: 11700,
        image: "assets/images/susan-wilkinson-Sl1h2dP4cyU-unsplash.jpg"
    },
    {
        id: 149,
        nom: "Fusion Éthérée",
        description: "Mélange de couleurs douces et fluides.",
        prix: 12300,
        image: "assets/images/susan-wilkinson-ZqDz4s56h0M-unsplash.jpg"
    },
    {
        id: 150,
        nom: "Ondes Sonores",
        description: "Représentation visuelle d'un motif auditif.",
        prix: 13600,
        image: "assets/images/susan-wilkinson-zzzpgcaPMTc-unsplash.jpg"
    }
];
// 2. Le script qui utilise les données (modifié)
document.addEventListener('DOMContentLoaded', () => {
    
    // RENOMMEZ LA VARIABLE : Utilisez accessoiresDessins au lieu de accessoires
    const produitsData = accessoiresDessins; 
    
    const galleryContainer = document.querySelector('.gallery'); 
    const filterNameInput = document.getElementById('filterName');
    const maxPriceInput = document.getElementById('maxPrice');
    const applyFilterButton = document.getElementById('applyFilter');
    const resetFilterButton = document.getElementById('resetFilter');

    // Fonctions de formatage et de création de carte
    const formaterPrix = (prix) => {
        return prix.toLocaleString('fr-FR', {
            style: 'currency',
            currency: 'XOF',
            minimumFractionDigits: 0
        }).replace('XOF', 'FCFA'); 
    };

    const creerCarteHTML = (produit) => {
        // ... (Logique de prix et de carte inchangée, utilise produit.image) ...
        const prixAffichage = formaterPrix(produit.prix);
        const dataPrice = produit.prix > 0 ? produit.prix : 999999999; 

        return `
            <div class="artwork-card" data-id="${produit.id}" data-price="${dataPrice}" data-category="dessin">
                <div class="artwork-image">
                    <img src="${produit.image}" alt="${produit.nom}">
                </div>
                <div class="artwork-info">
                    <div class="artist-name">${produit.nom}</div>
                    <div class="artwork-title">${produit.description}</div>
                    <div class="price">${prixAffichage}</div>
                </div>
            </div>
        `;
    };

    /** Affiche les produits en générant le HTML. */
    const afficherGalerie = (data) => {
        const galleryHTML = data.map(creerCarteHTML).join(''); 
        galleryContainer.innerHTML = galleryHTML;
    };
    
    // --- 1. AFFICHAGE INITIAL CORRIGÉ ---
    // On appelle la fonction avec la CONSTANTE DE DONNÉES CORRECTE : accessoiresDessins
    afficherGalerie(produitsData);


    // --- 2. LOGIQUE DE FILTRAGE (CORRIGÉE) ---
    const appliquerFiltres = () => {
        const nomFiltre = filterNameInput.value.toLowerCase().trim();
        const prixMax = parseFloat(maxPriceInput.value); 

        // Filtrer à partir de produitsData (qui est accessoiresDessins)
        const produitsFiltres = produitsData.filter(produit => { 
            const nomProduit = produit.nom.toLowerCase();
            const prixProduit = produit.prix;
            
            let correspond = true;

            if (nomFiltre && !nomProduit.includes(nomFiltre)) {
                correspond = false;
            }

            if (!isNaN(prixMax) && prixProduit > prixMax && prixProduit > 0) {
                correspond = false;
            }

            return correspond;
        });

        afficherGalerie(produitsFiltres);
    };

    const reinitialiserFiltres = () => {
        filterNameInput.value = '';
        maxPriceInput.value = '';
        afficherGalerie(produitsData); // Afficher le tableau complet
    };

    // Attacher les écouteurs d'événements
    applyFilterButton.addEventListener('click', appliquerFiltres);
    resetFilterButton.addEventListener('click', reinitialiserFiltres);
    filterNameInput.addEventListener('input', appliquerFiltres);
});